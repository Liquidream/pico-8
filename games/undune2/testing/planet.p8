pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
-- based on code from maciej szczerba
-- https://twitter.com/tonicmaciej/status/1122487932642836480

pal({[0]=3,128,132,5,6,0,10,9,4,15,143,129,13,1,140,142},1) 

c={5,1,2,15,10,9} --dune
--c={5,1,8,7,6} --dune v2 (too yellow)
--c={5,11,13,14,12} --atreides
--c={3,12,4} --ordos
--c={5,1,2,8} --harkonnen
::_::
srand(11)
u=cos(.5)
v=sin(.4)
cls(5)
camera(-32,-32)

--stars
for i=1,50 do
 pset(rnd(64)-32,rnd(64)-32,rnd{11,14})
end

-- atmosphere
circfill(-1,-1,22,11)
circfill(-1,-1,21,14)
circfill(-1,-1,20,11) --if not ordos

-- planet
for x=-1,.95,.05 do 
 for y=-1,.95,.05 do 
  h=x*x+y*y
  z=(1-h)^.5
  r=x*u+y*v+1.3+2*((x+y)%.1)
  r=max(min(1,z*r))
  r=(c)[flr(r*(#c-1))+1]
  if(h<1)pset(x*20,y*20,r)
 end
end
flip()
goto _
__gfx__
00000000808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
